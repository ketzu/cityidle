(function(e){function t(t){for(var r,o,c=t[0],u=t[1],s=t[2],f=0,d=[];f<c.length;f++)o=c[f],i[o]&&d.push(i[o][0]),i[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(d.length)d.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,c=1;c<n.length;c++){var u=n[c];0!==i[u]&&(r=!1)}r&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},i={app:0},a=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var l=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("744f"),n("6c7b"),n("7514"),n("20d6"),n("1c4c"),n("6762"),n("cadf"),n("e804"),n("55dd"),n("d04f"),n("c8ce"),n("217b"),n("7f7f"),n("f400"),n("7f25"),n("536b"),n("d9ab"),n("f9ab"),n("32d7"),n("25c9"),n("9f3c"),n("042e"),n("c7c6"),n("f4ff"),n("049f"),n("7872"),n("a69f"),n("0b21"),n("6c1a"),n("c7c62"),n("84b4"),n("c5f6"),n("2e37"),n("fca0"),n("7cdf"),n("ee1d"),n("b1b1"),n("87f3"),n("9278"),n("5df2"),n("04ff"),n("f751"),n("4504"),n("fee7"),n("ffc1"),n("0d6d"),n("9986"),n("8e6e"),n("25db"),n("e4f7"),n("b9a1"),n("64d5"),n("9aea"),n("db97"),n("66c8"),n("57f0"),n("165b"),n("456d"),n("cf6a"),n("fd24"),n("8615"),n("551c"),n("097d"),n("df1b"),n("2397"),n("88ca"),n("ba16"),n("d185"),n("ebde"),n("2d34"),n("f6b3"),n("2251"),n("c698"),n("a19f"),n("9253"),n("9275"),n("3b2b"),n("3846"),n("4917"),n("a481"),n("28a5"),n("386d"),n("6b54"),n("4f7f"),n("8a81"),n("ac4d"),n("8449"),n("9c86"),n("fa83"),n("48c0"),n("a032"),n("aef6"),n("d263"),n("6c37"),n("9ec8"),n("5695"),n("2fdb"),n("d0b0"),n("5df3"),n("b54a"),n("f576"),n("ed50"),n("788d"),n("14b9"),n("f386"),n("f559"),n("1448"),n("673e"),n("242a"),n("c66f"),n("b05c"),n("34ef"),n("6aa2"),n("15ac"),n("af56"),n("b6e4"),n("9c29"),n("63d9"),n("4dda"),n("10ad"),n("c02b"),n("4795"),n("130f"),n("ac6a"),n("96cf");var r=n("2b0e"),i=n("ce5b"),a=n.n(i);n("bf40");r["default"].use(a.a,{iconfont:"fa"});var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-toolbar",{attrs:{dark:"",fixed:"",app:""}},[n("v-toolbar-title",[e._v("\n      City Idle\n    ")]),n("v-spacer"),e._v("\n    "+e._s(e.formatresource(e.resource))+"\n  ")],1),n("Game"),n("v-footer",{attrs:{app:"",dark:"",height:"auto",absolute:""}},[n("v-layout",{attrs:{"justify-center":"",row:"",wrap:""}},[e._v("\n      If you are not idling, you are doing it wrong. ~"),n("a",{on:{click:function(t){e.$store.commit("hardreset")}}},[e._v("HARD RESET.")]),e._v("~\n    ")])],1)],1)},c=[],u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-content",{staticClass:"green darken-3"},[n("v-container",{attrs:{"grid-list-lg":""}},[n("v-layout",{attrs:{"align-start":"","justify-center":"",row:"",wrap:""}},[n("v-flex",{attrs:{md9:""}},[n("CityScreen")],1),n("v-flex",{attrs:{md3:""}},[n("BuildMenu")],1)],1)],1)],1)},s=[],l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-title",{attrs:{"primary-title":""}},[n("div",[n("div",{staticClass:"headline"},[e._v("Construct")]),n("span",{staticClass:"grey--text"},[e._v("Add buildings to your "+e._s(e.towntype)+"!")])])]),n("v-list",{attrs:{"two-line":""}},e._l(e.buildings,function(e,t){return n("Building",{key:t,attrs:{type:e}})}),1),n("v-card-actions",[e._v("\n    Producing "+e._s(e.formatresource(1e3*e.resourcegain/e.tickrate))+" per second.\n    "),n("v-spacer")],1)],1)},f=[],d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-list-tile",{attrs:{avatar:""}},[n("v-list-tile-avatar",[n("v-icon",{attrs:{large:"",color:"grey darken-2"}},[e._v("fas "+e._s(e.type.icon))])],1),n("v-list-tile-content",["Generator"===e.type.type?n("v-list-tile-title",[e._v("\n      "+e._s(e.type.name)+", producing "+e._s(e.formatresource(e.mul*e.type.gain*e.level*1e3/e.tickrate))+" per second.\n    ")]):n("v-list-tile-title",[e._v("\n      "+e._s(e.type.name)+", supporting multiplier is "+e._s(Math.pow(e.type.gain,e.level))+".\n    ")]),n("v-list-tile-sub-title",[e._v("\n      "+e._s(e.type.type)+", next level costs "+e._s(e.formatresource(e.cost))+".\n    ")])],1),n("v-list-tile-action",[n("v-btn",{attrs:{icon:"",ripple:"",disabled:!e.buyable},on:{click:function(t){e.buy()}}},[n("v-icon",{attrs:{color:e.buyable?"blue darken-2":"grey darken-2"}},[e._v("fas fa-hammer")])],1)],1)],1)},p=[],b={name:"Building",props:["type"],computed:{level:{get:function(){var e=this.$store.getters.buildinglevels[this.type.name];return void 0===e?0:e}},mul:{get:function(){return this.$store.getters.multiplier}},cost:function(){return this.type.cost.base*Math.pow(this.type.cost.rate,this.level)},buyable:function(){return this.cost<=this.resource}},methods:{buy:function(){this.buyable&&this.$store.dispatch("buybuilding",{building:this.type})}}},v=b,g=n("2877"),m=Object(g["a"])(v,d,p,!1,null,"0d07f8e9",null),y=m.exports,h={name:"BuildMenu",components:{Building:y},computed:{buildings:{get:function(){return this.$store.getters.buildings}}}},_=h,w=Object(g["a"])(_,l,f,!1,null,"6916aff2",null),O=w.exports,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-title",{attrs:{"primary-title":""}},[n("div",[n("div",{staticClass:"headline"},[e._v("Welcome to your "+e._s(e.towntype)+", "+e._s(e.title)+".")]),n("span",{staticClass:"grey--text"},[e._v("Make wise decisions!")])])])],1)},x=[],j={name:"CityScreen"},S=j,M=Object(g["a"])(S,k,x,!1,null,"49e48238",null),$=M.exports,C={name:"Game",components:{CityScreen:$,BuildMenu:O},data:function(){return{}}},P=C,E=Object(g["a"])(P,u,s,!1,null,null,null),G=E.exports,I=n("2f62");function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){J(e,t,n[t])})}return e}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T={computed:B({},Object(I["b"])(["resource","resourcegain","tickrate","towntype","title","currency"]))},D={name:"app",components:{Game:G},data:function(){return{}},methods:{},mixins:[T]},F=D,N=Object(g["a"])(F,o,c,!1,null,null,null),R=N.exports;r["default"].use(I["a"]);var A=[{name:"Farm",type:"Generator",icon:"fa-apple-alt",cost:{base:10,rate:1.1},gain:1},{name:"Inn",type:"Generator",icon:"fa-beer",cost:{base:1e3,rate:1.1},gain:100},{name:"Roads",type:"Support",icon:"fa-road",cost:{base:1e6,rate:1.1},gain:1.02}],V=function(e){for(var t=1,n=1,r=0;r<A.length;r++){var i=A[r],a=e.buildings[i["name"]];if(void 0!==a)switch(i.type){case"Support":n*=Math.pow(i.gain,a);break;case"Generator":t+=i.gain*a;break;default:console.log("Default case triggered for: "+name);break}}return[t,n]},H=new I["a"].Store({state:{resource:0,tickrate:100,towntype:"Village",title:"Mayor",currency:"€",buildings:{}},getters:{resource:function(e){return e.resource},buildings:function(e){return A},buildinglevels:function(e){return e.buildings},tickrate:function(e){return e.tickrate},towntype:function(e){return e.towntype},currency:function(e){return e.currency},title:function(e){return e.title},multiplier:function(e){return V(e)[1]},resourcegain:function(e){return V(e).reduce(function(e,t){return e*t})}},mutations:{initstore:function(e){localStorage.getItem("igame-v1")&&this.replaceState(Object.assign(e,JSON.parse(localStorage.getItem("igame-v1"))))},startgame:function(e){setInterval(function(){e.resource+=V(e).reduce(function(e,t){return e*t})},e.tickrate)},updateresource:function(e,t){e.resource=t.value},spendresource:function(e,t){e.resource-=t.value},settownspecs:function(e,t){var n=t.title,r=t.towntype;e.towntype=r,e.title=n},buybuilding:function(e,t){var n=t.building;void 0===e.buildings[n.name]&&r["default"].set(e.buildings,n.name,0),e.resource-=n.cost.base*Math.pow(n.cost.rate,e.buildings[n.name]),e.buildings[n.name]+=1},hardreset:function(e){this.replaceState(Object.assign(e,{resource:0,tickrate:100,towntype:"Village",title:"Mayor",currency:"€",buildings:{}}))}},actions:{updateresource:function(e,t){var n=e.commit;n("updateresource",t)},spendresource:function(e,t){var n=e.commit;n("spendresource",t)},settownspecs:function(e,t){var n=e.commit;n("settownspecs",t)},buybuilding:function(e,t){var n=e.commit;n("buybuilding",t)}}});n("d5e8"),n("15f5");r["default"].config.productionTip=!1,H.subscribe(function(e,t){localStorage.setItem("igame-v1",JSON.stringify(t))}),r["default"].mixin(T),r["default"].mixin({methods:{formatresource:function(e){if(e<1e9)return Math.floor(e).toLocaleString()+this.$store.getters.currency;var t=e.toExponential().split("e").map(function(e){return Number(e)});return t[0].toFixed(2)+" x10^"+t[1].toFixed(0)+this.$store.getters.currency}}}),new r["default"]({store:H,render:function(e){return e(R)},beforeCreate:function(){this.$store.commit("initstore")},mounted:function(){this.$store.commit("startgame")}}).$mount("#app")}});
//# sourceMappingURL=app.0d431236.js.map